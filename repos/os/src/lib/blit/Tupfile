include_rules

ifeq (@(TUP_ARCH),i386)
BLIT_CPPFLAGS += -Ispec/x86_32
BLIT_CPPFLAGS += -Ispec/x86
endif

ifeq (@(TUP_ARCH),x86_64)
BLIT_CPPFLAGS += -Ispec/x86_64
BLIT_CPPFLAGS += -Ispec/x86
endif

ifeq (@(TUP_ARCH),arm)
BLIT_CPPFLAGS += -Ispec/arm
endif

ifeq ($(BLIT_CPPFLAGS),)
error blit library not yet ported to @(TUP_ARCH)
endif

CPPFLAGS += $(BLIT_CPPFLAGS)

: foreach *.cc |> !cxx |> {obj}
: {obj} |> !ar |> {bin}
: {bin} |> !collect_static |>
: |> !emit_lib_pkg_config |>
